<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ESP32-CAM Captured Photo Gallery</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  </head>
  <body style="background-color:#202125;">
    <div class="container" style="padding-top:30px;">
      <div class="d-flex justify-content-center">
        <h1 style="color:#FEFFFF;">ESP32-CAM Captured Photo Gallery</h1>
      </div>
      <hr class="mt-2 mb-5" style="height:2px;background-color:#FFFFFF";>
      <div class="row text-center text-lg-start">
        {% for file in files %}
        <div class="col-lg-3 col-md-4 col-6" style="padding-bottom:30px;">
          <div class="row">
            <a href="{{ url_for('uploaded_file', filename=file) }}" class="d-block mb-4 h-100" target="_blank">
            <img class="img-fluid img-thumbnail" src="{{ url_for('uploaded_file', filename=file) }}" alt="">
            </a>
          </div>
          <div class="row justify-content-end">
            <center>
            <div class="col md-8">
            <p style="color:#FEFFFF;">{{ file }}</p>
            </div>
            <div class="col md-4">
            <a href="{{ url_for('delete_file', filename=file) }}" class="btn btn-danger btn-sm">Delete</a>
            </div> 
            </center>
          </div>
        </div>
        {% endfor %}
        {% if files|length == 0 %}
        <p style="color:#FEFFFF;">No images found</p>
        {% endif %}
      </div>
      <div class="d-flex justify-content-center">
        <a href="{{ url_for('download_files') }}" class="btn btn-primary">Download All Images</a>
      </div>
    </div>
  </body>
</html>
